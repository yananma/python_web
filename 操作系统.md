
## [操作系统](https://www.bilibili.com/video/BV1YE411D7nH?from=search&seid=11368503174163677449)  

### 第1章 操作系统介绍  

裸机就是纯硬件，没有装操作系统  

操作系统用于调度协调计算机硬件和软件资源，是中间层次；操作系统是软件  

功能：设备管理、文件管理、存储器管理、处理机管理  

目标是安全高效  

交互式命令接口，说一句做一句，就是 cmd  

脱机命令接口，就是 .bat 和 shell 一样；说一堆做一堆  

程序接口 .dll 文件，只能间接调用，不能直接使用  

操作系统有 **并发、共享、虚拟、异步** 这 4 个特征  


1. 并发，是两个或多个操作在同一时间间隔内发生，宏观上看是同时发生的，微观上看是交替发生的  

2. 共享就是资源共享，是指系统中的资源可供内存中的多个并发执行的进程共同使用  
两种共享方式：互斥共享和同时共享  
互斥共享：一个时间段内只允许一个进程访问；QQ 用了摄像头，微信就不能再用    
同时共享：一个阶段允许多个进程访问，也是宏观层面，微观也是交替执行；QQ 发送文件 A，微信发送文件 B，都是在读取磁盘，但是是交替执行的  

3. 虚拟是指把一个物理上的实体变成若干个逻辑上的对应物，实体是客观存在的，逻辑是主观感受到的；比如游戏占 4G、QQ 256M、音乐 256M、电影 2G，但是实际只有 4G，这就是实际和感受的区别，就是用了虚拟技术  
比如可以同时开 6 个软件，只有 1 个 CPU，但是感觉是有 6 个，这也是虚拟技术  
没有并发性，就没有虚拟技术  

4. 异步是指在多道程序环境下，允许多个程序并发执行，但是由于资源有限，所以程序不是一次执行到底的，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性  
只有有了并发性，才有了抢占资源的问题，才有了异步性  

纸带输入时 IO，输入以后计算是 CPU  

两个互不干扰，合并执行就是多道批处理  

分时操作系统以时间片为单位，轮流为各个作业提供服务  

实时操作系统就是可以优先处理一些紧急的任务，紧急任务不需要排队等待  


代码翻译成二进制文件，这些文件就是机器语言指令  

指令就是处理器 CPU 能够识别执行的最基本的命令  


内核是计算机上配置的底层软件，是操作系统最基本最核心的部分  

时钟管理、中断处理、原语(设备驱动、CPU 切换等)  

原子性是说一次执行到底，中间不会中断  

<br>

早期设备只能串行执行，只有一个程序运行结束，另一个程序才能开始执行；资源利用率非常低  

后来引入了操作系统，操作系统的中断机制，实现了并发执行  

程序接口由一系列的系统调用组成  


### 第2章 进程  

PCB process control block  

进程是程序的一次执行过程  

进程标识符 PID 是进程创建时，系统分配给进程的一个唯一的 id，用于区分不同的进程  

进程的特征：动态性、并发性、独立性、异步性、结构性  

进程的状态：**运行状态、就绪状态、阻塞状态**、创建状态、终止状态  


就绪态，就是其他条件都已经具备，只是缺少 CPU  

阻塞态，比如运行的时候，要用到别的进程的运算结果，就会阻塞，阻塞是进程主动发起的  


进程通信就是进程之间的信息交换  

为了保证数据安全，一个进程不能访问另一个进程的地址空间，所以才有了进程通信  

进程通信方法：共享存储(开辟一段共用的空间，访问是互斥的)、消息传递、管道通信  

线程是一个基本的 CPU 执行单元，是程序执行流的最小单位  

引入线程以后，进程变成了资源分配的最小单位  

进程切换复杂，有了线程，切换要容易很多  

TCB tread control block  

### 第3章 调度  

一般进程数是多于 CPU 数量的，所以很难并行执行，所以就有了调度问题，调度就是根据一定的算法，分配资源  


非剥夺调度方式，又称为非抢占式调度，就是只能等待进程主动放弃  

剥夺式调度，又称抢占式调度，就是来了优先级更高的进程，就要暂停原有进程的执行  


CPU 利用率 = CPU 使用时间 ÷ 总时间  

系统吞吐量就是单位时间内完成的作业的数量  

* 先来先服务 FCFS First Come First Serve  

* 短作业优先 SJF Shortest Job First  

* 高响应比优先 HRRN Highest Response Ratio First  

* 时间片轮转 RR Round-Robin  

* 优先级调用算法  

* 多级反馈队列调度算法

### 第4章 进程同步和进程互斥  

进程同步是为了解决进程异步的问题而提出的，异步就是次序是不可知的，同步则是希望程序按照我们想要的顺序执行，需要**协调**它们的**工作次序**而产生的制约关系；进程之间是有合作的  

进程互斥就是只有一个进程可以访问资源；由此形成了间接的制约关系  

就是上锁  

和上厕所是一样的，只能一个人，进去锁门  



死锁就是都在等待别人的资源，而造成的各进程阻塞的情况  


内存，和酒店是一样的，区分房间就是设置门牌号，在内存中就是内存地址  






